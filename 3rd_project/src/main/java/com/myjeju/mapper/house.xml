<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="mapper.house">
	
	<!-- 숙소리스트 -->
	<select id="houselist" resultType="com.myjeju.vo.HouseVO">
		select hid, h_name, h_infor, h_infor2, h_tag, h_addr, h_vpoint, h_hpoint, h_hp, h_like, h_img from myjeju_house
	</select>
	
	<!-- 숙소 상위 3개 -->
	<select id="housetop3" resultType="com.myjeju.vo.HouseVO">
		<![CDATA[ select hid, h_name, h_tag, h_infor, h_like, h_img from 
				   (select hid, h_name, h_tag, h_infor, h_like, h_img from myjeju_house order by h_like desc)
				   where rownum <= 3 ]]>
	</select>
	
	<!-- 숙소 상세 정보 -->
	<select id="housedetail" parameterType="java.lang.String" resultType="com.myjeju.vo.HouseVO">
		select hid, h_name, h_tag, h_infor, h_infor2, h_addr, h_hp, h_like, h_img from myjeju_house where hid = #{hid}
	</select>
	
	<!-- 숙소 객실 정보 -->
	<select id="roomdetail" parameterType="java.lang.String" resultType="com.myjeju.vo.HDetailVO">
		select hd_name, hd_price, hd_people, hd_img, hdid, hid from myjeju_hdetail where hid = #{hid}
	</select>
	
	<!-- 하트 테이블 + -->
	<insert id="heart_plus" parameterType="com.mybook.vo.BookVO">
		insert into myjeju_heart values(#{id}, #{hid})
	</insert>

	<!-- 하트 테이블 - -->
	<insert id="heart_minus" parameterType="com.mybook.vo.BookVO">
		delete myjeju_heart where id=#{id} and bid=#{hid}
	</insert>
</mapper>