<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
    
<mapper namespace="mapper.reservation">

	<select id="currentname" parameterType="java.lang.String" resultType="java.lang.String">
		select h_name from MYJEJU_HOUSE where hid=#{hid}
	</select>
 	
	<select id="searchroom" parameterType="map" resultType="com.myjeju.vo.RoomVO">
		select roomid, rdate, available from  
			(select MYJEJU_reservation.roomid, rdate, available from MYJEJU_reservation,MYJEJU_HDROOM where myjeju_reservation.roomid = myjeju_hdroom.roomid and hdid=#{hdid})
		where rdate between to_date(#{start},'YYYYMMDD') and to_date(#{end},'YYYYMMDD') and available = 0
	</select>
		

</mapper>